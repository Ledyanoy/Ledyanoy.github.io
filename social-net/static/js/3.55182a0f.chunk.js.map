{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/Dialog/Dialog.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","hoc/withAuthRedirect.js","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","DialogItem","state","className","dialog","to","id","activeClassName","active","link","src","img","avatar","alt","name","Message","message","me","Dialogs","dialogsPage","addMessageActionCreator","DialogsElements","dialogsData","map","Dialog","key","MessagesElements","messageData","maxLength15","maxLength","NewMessageReduxForm","reduxForm","form","props","onSubmit","handleSubmit","actions","Field","component","FormTextarea","type","validate","requiredField","dialogs","dialogList","messages","values","post","mapStateToProps","isAuth","auth","compose","connect","Component","RedirectComponent","this","React"],"mappings":"2GACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,WAAa,4BAA4B,OAAS,wBAAwB,OAAS,wBAAwB,OAAS,wBAAwB,SAAW,0BAA0B,QAAU,yBAAyB,GAAK,oBAAoB,KAAO,sBAAsB,QAAU,2B,sFCe1TC,EAZI,SAAC,GAAa,IAAZC,EAAW,EAAXA,MACjB,OACI,wBAAIC,UAAWC,UACX,kBAAC,IAAD,CAASC,GAAE,mBAAcH,EAAMI,IAAMC,gBAAiBC,SAAQL,UAAWM,QACrE,yBAAKC,IAAG,UAAKR,EAAMS,IAAMT,EAAMS,IAAM,6EAA+ER,UAAWS,SAAQC,IAAKX,EAAMY,OACjJZ,EAAMY,QCIRC,EATC,SAAC,GAAa,IAAZb,EAAW,EAAXA,MACd,OACI,wBAAIC,UAAS,UAAKa,UAAL,YAAgBd,EAAMe,GAAKA,KAAK,KACxCf,EAAMc,U,iCC8CJE,EA3CC,SAAC,GAA4C,IAA3CC,EAA0C,EAA1CA,YAAaC,EAA6B,EAA7BA,wBAErBC,EAAkBF,EAAYG,YAAYC,KAAI,SAACnB,GAAD,OAAY,kBAACoB,EAAD,CAAYC,IAAKrB,EAAOE,GAAIJ,MAAOE,OAC7FsB,EAAmBP,EAAYQ,YAAYJ,KAAI,SAACP,GAAD,OAAa,kBAAC,EAAD,CAASS,IAAKT,EAAQV,GAAIJ,MAAOc,OAO7FY,EAAcC,YAAU,IAcxBC,EAAsBC,YAAU,CAClCC,KAAM,cADkBD,EAZN,SAACE,GACnB,OACI,0BAAMC,SAAUD,EAAME,aAAchC,UAAWiC,WAC3C,kBAACC,EAAA,EAAD,CAAOvB,KAAK,OACLwB,UAAWC,IACXC,KAAK,WACLC,SAAU,CAACC,IAAed,KACjC,4BAAQY,KAAK,UAAb,wDAUZ,OACI,yBAAKrC,UAAWwC,WACZ,wBAAIxC,UAAWyC,cACVvB,GAEL,wBAAIlB,UAAW0C,YACVnB,GAEL,kBAACI,EAAD,CAAqBI,SA9BT,SAACY,GACjB1B,EAAwB0B,EAAOC,W,uDCdnCC,EAAkB,SAAC9C,GACnB,MAAO,CACH+C,OAAQ/C,EAAMgD,KAAKD,SCQZE,sBACXC,aAPoB,SAAClD,GACrB,MAAO,CACHiB,YAAajB,EAAMiB,eAKE,CAACC,+BDLC,SAACiC,GAAe,IACrCC,EADoC,uKAGlC,OAAKC,KAAKtB,MAAMgB,OACR,kBAACI,EAAcE,KAAKtB,OADG,kBAAC,IAAD,CAAU5B,GAAG,eAHV,GACVmD,IAAMH,WAOtC,OADwBD,YAAQJ,EAARI,CAAyBE,KCHtCH,CAGbjC","file":"static/js/3.55182a0f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3Q_qK\",\"dialogList\":\"Dialogs_dialogList__3WHNZ\",\"dialog\":\"Dialogs_dialog__dyeyU\",\"active\":\"Dialogs_active__irmcO\",\"avatar\":\"Dialogs_avatar__2OhZi\",\"messages\":\"Dialogs_messages__ncqbO\",\"message\":\"Dialogs_message__pMhIa\",\"me\":\"Dialogs_me__2-sKW\",\"link\":\"Dialogs_link__37rQM\",\"actions\":\"Dialogs_actions__1b6JS\"};","import React from 'react';\r\nimport {dialog, active, avatar, link} from './../Dialogs.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogItem = ({state}) => {\r\n    return (\r\n        <li className={dialog}>\r\n            <NavLink to={`/dialogs/${state.id}`} activeClassName={active} className={link}>\r\n                <img src={`${state.img ? state.img : 'https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png'}`} className={avatar} alt={state.name}/>\r\n                {state.name}\r\n            </NavLink>\r\n        </li>\r\n    )\r\n}\r\n\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport {message , me} from './../Dialogs.module.css';\r\n\r\n\r\nconst Message = ({state}) => {\r\n    return (\r\n        <li className={`${message} ${state.me ? me : ''}`}>\r\n            {state.message}\r\n        </li>\r\n    )\r\n}\r\n\r\n\r\nexport default Message;","import React from 'react';\r\nimport {dialogs, dialogList, messages, actions} from './Dialogs.module.css';\r\nimport DialogItem from \"./Dialog/Dialog\";\r\nimport Message from \"./Message/Message\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLength, requiredField} from \"../../utils/validators/validators\";\r\nimport {FormTextarea} from \"../Common/FormFields/FormFields\";\r\n\r\n\r\n\r\nconst Dialogs = ({dialogsPage, addMessageActionCreator}) => {\r\n\r\n    const DialogsElements = dialogsPage.dialogsData.map((dialog) => <DialogItem key={dialog.id} state={dialog}/>);\r\n    const MessagesElements = dialogsPage.messageData.map((message) => <Message key={message.id} state={message}/>);\r\n\r\n\r\n\r\n    const onAddReplic = (values) => {\r\n        addMessageActionCreator(values.post)\r\n    }\r\n    const maxLength15 = maxLength(15);\r\n\r\n    const newMessageForm =(props) => {\r\n        return (\r\n            <form onSubmit={props.handleSubmit} className={actions}>\r\n                <Field name=\"post\"\r\n                       component={FormTextarea}\r\n                       type=\"textarea\"\r\n                       validate={[requiredField, maxLength15]}/>\r\n                <button type=\"submit\">Написать</button>\r\n            </form>\r\n        )\r\n    }\r\n\r\n    const NewMessageReduxForm = reduxForm({\r\n        form: 'newMessage'\r\n    })(newMessageForm);\r\n\r\n\r\n    return (\r\n        <div className={dialogs}>\r\n            <ul className={dialogList}>\r\n                {DialogsElements}\r\n            </ul>\r\n            <ul className={messages}>\r\n                {MessagesElements}\r\n            </ul>\r\n            <NewMessageReduxForm onSubmit={onAddReplic}/>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nexport const withAuthRedirect =(Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render(){\r\n            if (!this.props.isAuth) return <Redirect to='/login'/>\r\n            return (<Component {...this.props}/>)\r\n        }\r\n    }\r\n    let afterAllComponent = connect(mapStateToProps)(RedirectComponent);\r\n    return afterAllComponent;\r\n}","import React from 'react';\r\nimport {addMessageActionCreator} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {addMessageActionCreator}),\r\n    withAuthRedirect,\r\n)(Dialogs);\r\n"],"sourceRoot":""}